extends navbar

block title
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
  title= `${resource.title}`
  style.
    .checked {
    color: orange;
    }

block content
  .doublebox-page-content
    .doublebox-page-leftBox
      .doublebox-page-leftBox-outerBox
        .doublebox-page-leftBox-innerbox
          .something(style='justify-content:center; text-align: center;')
            h2= `${resource.title}`
            h3= `${resource.author}`
            p #{ time_difference(resource.create_date)}
            -var star = resource.rate
            div(style='font-size: large;')
              if star>=1
                span.fa.fa-star.checked
              else 
                span.fa.fa-star
              if star>=2
                span.fa.fa-star.checked
              else 
                span.fa.fa-star
              if star>=3
                span.fa.fa-star.checked
              else 
                span.fa.fa-star
              if star>=4
                span.fa.fa-star.checked
              else 
                span.fa.fa-star
              if star>=5
                span.fa.fa-star.checked
              else 
                span.fa.fa-star
              span(style='margin-left: 20px;') #{resource.rate}
        a.doublebox-page-leftBox-button(href=`http://localhost:7700/storage/resources/${resource.resource_id}.zip`)
          .doublebox-page-leftBox-button-inner
            | Download
        a.doublebox-page-leftBox-button(href=`/new_post?resource_id=${resource.resource_id}`)
          .doublebox-page-leftBox-button-inner
            | Post about this
    .doublebox-page-rightBox
      .doublebox-page-rightBox-innerbox(style='display: block;')
        .doublebox-page-rightBox-innerbox-title
          button.tablinks(onclick="opentab(event, 'Info')") INFO
          button.tablinks(onclick="opentab(event, 'Posts')") POSTS
        #Info.tabcontent.doublebox-page-rightBox-innerbox-content
          div(style='width: calc(100% - 5rem);height: calc(100% - 5rem); margin: 2.5rem;')
            h1 #{resource.title}
            h3 Resourd Id: #{resource.resource_id}
            h4 #{resource.description}
            h1 Files
            h3
              ul
                li File 1
                li File 2
                li File 3
        #Posts.tabcontent.doublebox-page-rightBox-innerbox-content(style='display: none;')
          div(style='width: calc(100% - 5rem);height: calc(100% - 5rem); margin: 2.5rem;')
            .posts-about-resource
              img.w3-left.w3-circle.w3-margin-right(src='../images/user.png' alt='Avatar' style='width:60px; height: 60px;')
              p(style='margin-left: 20px')
                | Description xxxyyy blablabla aaaaaaaaaaa aaaaaaaaaa aaaaaaaaaaaaa aaaaaaaaaaaaaaaa aaaaaaaaaaaaaaa aaaaaaaaaaaaaaa aaaaaaaaaaaaa aaaaaaaaaaaaa
  script.
    function opentab(evt, name) {
    // Declare all variables
    var i, tabcontent, tablinks;
    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
    }
    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(name).style.display = "block";
    evt.currentTarget.className += " active";
    }
