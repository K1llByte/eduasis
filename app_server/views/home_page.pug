extends navbar.pug

block title
    link(rel='stylesheet' href='/static/css/w3.css')
    link(rel='stylesheet' href='/static/css/materialize.css')
    link(rel='stylesheet' href='/static/css/style.css')
    title Eduasis

block content
  // ---------------------- RESOURCE ----------------------------
  each r in resources
    .caixinha.w3-card-4
      .topbar
        .profile-topbar
          img.profile-picture(src='https://www.w3schools.com/w3css/img_avatar3.png' alt='')
          .profile-name= `${r.author}`
        .resource= `${r.title}`
      .text-box= `${r.description}`
        
      .bottom-bar
        .rate
          input#star5(type='radio' name='rate' value='5')
          label(for='star5' title='5 stars') &starf;
          input#star4(type='radio' name='rate' value='4')
          label(for='star4' title='4 stars') &starf;
          input#star3(type='radio' name='rate' value='3')
          label(for='star3' title='3 stars') &starf;
          input#star2(type='radio' name='rate' value='2')
          label(for='star2' title='2 stars') &starf;
          input#star1(type='radio' name='rate' value='1')
          label(for='star1' title='1 star') &starf;
        .bottom-buttons
          button.material-icons(type='button') reply
          button.material-icons(type='button') download

  // %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  // ------------------------ POST --------------------------------
  each p in posts
    .caixinha.w3-card-4
      .post
        .topbar-post
          img.profile-picture(src=`http://localhost:7700/api/users/${p.author}/avatar` alt='')
          .profile-name= `${p.author}`
        .box-resource-post
          span
            img(src='static/images/Files_archive.png' width='100' height='100' style='float: right; margin-top: 10px;')
            h4= `${p.content}`
            p= `| ${p.content}`
              span#dots ... 
              span#more(style='display: none;') 
                | erisque enim ligula venenatis dolor. Maecenas nisl est, ultrices nec congue eget, auctor vitae massa. Fusce luctus vestibulum augue ut aliquet. Nunc sagittis dictum nisi, sed ullamcorper ipsum dignissim ac. In at libero sed nunc venenatis imperdiet sed ornare turpis. Donec vitae dui eget tellus gravida venenatis. Integer fringilla congue eros non fermentum. Sed dapibus pulvinar nibh tempor porta.
          a#mzyBtn(onclick='readMore()')
            u Read more
        p(style='margin-left: 50px; margin-right: 50px')= `${p.content}`

      button.w3-button.w3-block.w3-dark-grey(onclick='addComment()')
        i.fa.fa-comment(aria-hidden='true')
        |  Comment
      .w3-container.comments
        span#add-comment(style='display: none;')
          .add-comments
            img.w3-left.profile-picture-comments.w3-margin-right(src='/static/images/moky.png' alt='Avatar')
            textarea.add-comment(type='text' placeholder='add a comment')
        each c in p.comments
          .comment
            img.w3-left.profile-picture-comments.w3-margin-right(src=`http://localhost:7700/api/users/${c.author}/avatar` alt='Avatar' style='width:60px')
            p= `${c.message}`
  script.
    function readMore() {
    var dots = document.getElementById("dots");
    var moreText = document.getElementById("more");
    var btnText = document.getElementById("myBtn");
    if (dots.style.display == "none") {
    dots.style.display = "inline";
    btnText.innerHTML = "<u>Read more</u>";
    moreText.style.display = "none";
    } else {
    dots.style.display = "none";
    btnText.innerHTML = "<u>Read less</u>";
    moreText.style.display = "inline";
    }
    }
    function addComment() {
    var moreText = document.getElementById("add-comment");
    if (moreText.style.display == "none") {
    moreText.style.display = "inline";
    }else{
    moreText.style.display = "none";
    }
    }
